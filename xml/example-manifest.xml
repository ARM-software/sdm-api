<?xml version="1.0" encoding="utf-8"?>
<!--
Manifest files will most-likely be SoC- or family-specific.
-->
<secure_debug_manager>
  <!--  -->
  <manifest-version>1.0</manifest-version>

  <!--  -->
  <api-version>1.0</api-version>

  <!--
    List of libraries to load
  -->
  <lib_name>../../../build/native/Debug/libpsa_sdm.dylib</lib_name>
<!--
  <dep>lib2</dep>
  <dep>lib2</dep>
 -->

  <!--
    Functionality supported and/or required by the SDM implementation.
  -->
  <capabilities>
    <feature name="debug-architecture:adiv5" enable="true"/>
    <feature name="debug-architecture:adiv6" enable="true"/>
    <feature name="resume-boot" enable="true"/>
    <feature name="multiple-authentications" enable="true"/>
  </capabilities>

  <!--
    Target debug mailbox specifications used by the debugger for discovering target details, including detecting the
    debugger mailbox. This would then be used as the default device for callbacks.

    Multiple mailbox specifications may be listed. They are searched for in the order listed.
    The first successful match becomes the default device for callbacks.

    The plugin is not restricted to using debug mailboxes supported by this mechanism, but it
    can make the plugin implementation simpler and more reusable if possible.

    TODO: Is there other target information that could be placed here? Remember, the debugger already knows how
    to communicate with the target device.
  -->
  <target>
    <coresight>
        <!-- Example: Arm SDC-600 -->
        <mailbox type="ap" idr="0x04762000" info="SDC-600" id="1"/>

        <!-- Example: NXP's DM-AP -->
        <mailbox type="ap" idr="0x002a0000" info="DM-AP" id="2"/>

        <!-- Example: SiLab's mailbox APB-AP (finish) -->
        <mailbox type="coresight" idr="0x54770002" index="3" info="DM-AP" id="3"/>

        <!-- Example: memory window -->
        <!-- TODO: How to handle ADIv6 nested APs? Separate AP definitions reference by <mailbox>? -->
        <mailbox type="memory" apv2="0x8000" address="0x40003000" length="64"/>
    </coresight>
  </target>

  <!--
    Options to show the user prior to performing an authentication.
  -->
  <options>
    <file_selection enable="true">
      <help>Please choose a certificate.</help>
      <extensions>
        <extension>.cert</extension>
      </extensions>
    </file_selection>
  </options>

  <!--
    Simple l10n support by matching static string values.
  -->
  <localization>
    <language id="en">
      <string id="file-msg">blah blah blah</string>
      <string id="foo">blah blah blah</string>
      <string id="bar">blah blah blah</string>
    </language>
    <language id="de">
      <string id="file-msg">blah blah blah</string>
    </language>
  </localization>
</secure_debug_manager>
